<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>Smart All-in-One Pro</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;800&display=swap');
        :root { --bg-dark: #070b14; }
        body {
            background-color: var(--bg-dark);
            font-family: 'Plus Jakarta Sans', sans-serif;
            color: white;
            height: 100dvh;
            overflow: hidden;
            -webkit-tap-highlight-color: transparent;
        }
        /* Enhanced Safe Area Padding for Status Bar protection */
        .safe-padding { 
            padding-top: calc(env(safe-area-inset-top) + 32px); 
        }
        .glass { background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(15px); border: 1px solid rgba(255,255,255,0.1); }
        .tool-modal {
            position: fixed; inset: 0; z-index: 100; 
            transform: translateY(100%); transition: transform 0.4s cubic-bezier(0.16, 1, 0.3, 1);
            display: flex; flex-direction: column; overflow: hidden;
        }
        .tool-modal.open { transform: translateY(0); }
        .bento-card { transition: all 0.3s ease; cursor: pointer; }
        .bento-card:active { transform: scale(0.95); opacity: 0.8; }
        .calc-btn { height: 60px; border-radius: 18px; font-weight: 800; font-size: 1.2rem; display: flex; align-items: center; justify-content: center; transition: 0.1s; }
        .calc-btn:active { transform: scale(0.9); background: rgba(255,255,255,0.2); }
        .unit-input { background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); padding: 15px; border-radius: 15px; outline: none; text-align: center; font-size: 1.5rem; font-weight: 800; width: 100%; }
        select { background: rgba(255,255,255,0.1); border: none; padding: 10px; border-radius: 10px; color: white; width: 100%; font-weight: bold; appearance: none; text-align-last: center; }
        @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
        .floating { animation: float 4s ease-in-out infinite; }
        .creator-glow { text-shadow: 0 0 15px rgba(59, 130, 246, 0.5); }
    </style>
</head>
<body class="flex flex-col">

    <!-- MAIN DASHBOARD -->
    <div class="flex-1 flex flex-col h-full overflow-hidden">
        <header class="p-6 safe-padding flex justify-between items-end bg-gradient-to-b from-black/20 to-transparent">
            <div>
                <h1 class="text-3xl font-black italic tracking-tighter bg-gradient-to-r from-blue-400 to-emerald-400 bg-clip-text text-transparent">SMART TOOLS</h1>
                <p class="text-[10px] font-bold opacity-40 uppercase tracking-[0.4em]">Premium Hybrid OS</p>
            </div>
            <div onclick="window.openTool('about')" class="w-12 h-12 glass rounded-2xl flex items-center justify-center floating active:scale-90 transition-transform cursor-pointer">
                <i data-lucide="info" class="text-blue-400 w-5 h-5"></i>
            </div>
        </header>

        <main class="flex-1 overflow-y-auto px-6 pb-10 space-y-6">
            <div class="grid grid-cols-2 gap-4">
                <div onclick="window.openTool('calc')" class="bento-card h-40 bg-gradient-to-br from-slate-800 to-slate-950 rounded-[35px] p-6 shadow-2xl flex flex-col justify-between border border-white/5">
                    <div class="w-10 h-10 bg-cyan-500/20 rounded-xl flex items-center justify-center"><i data-lucide="calculator" class="text-cyan-400"></i></div>
                    <span class="font-black text-lg">Calculator</span>
                </div>
                <div onclick="window.openTool('unit')" class="bento-card h-40 bg-gradient-to-br from-indigo-600 to-blue-800 rounded-[35px] p-6 shadow-2xl flex flex-col justify-between">
                    <div class="w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center"><i data-lucide="refresh-cw" class="text-white"></i></div>
                    <span class="font-black text-lg">Unit Conv</span>
                </div>
                <div onclick="window.openTool('age')" class="bento-card h-40 bg-gradient-to-br from-orange-400 to-rose-600 rounded-[35px] p-6 shadow-2xl flex flex-col justify-between">
                    <div class="w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center"><i data-lucide="cake" class="text-white"></i></div>
                    <span class="font-black text-lg">Age Calc</span>
                </div>
                <div onclick="window.openTool('pass')" class="bento-card h-40 bg-gradient-to-br from-emerald-500 to-teal-800 rounded-[35px] p-6 shadow-2xl flex flex-col justify-between">
                    <div class="w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center"><i data-lucide="shield" class="text-white"></i></div>
                    <span class="font-black text-lg">Password</span>
                </div>
            </div>

            <div class="p-6 glass rounded-[35px] bg-gradient-to-r from-purple-900/40 to-blue-900/40">
                <div class="flex justify-between items-center mb-4">
                    <span class="text-xs font-black text-purple-400 uppercase">Quick Actions</span>
                    <i data-lucide="zap" class="w-4 h-4 text-yellow-400"></i>
                </div>
                <div class="grid grid-cols-2 gap-3">
                    <button onclick="window.openTool('notes')" class="py-4 glass rounded-2xl font-bold text-sm active:scale-95 transition-transform">Smart Notes</button>
                    <button onclick="window.openTool('qr')" class="py-4 glass rounded-2xl font-bold text-sm active:scale-95 transition-transform">QR Creator</button>
                </div>
            </div>
        </main>
    </div>

    <!-- MODAL ENGINE -->
    <div id="tool-modal" class="tool-modal">
        <div class="safe-padding px-6 flex items-center justify-between pb-4 bg-transparent">
            <button onclick="window.closeTool()" class="w-12 h-12 glass rounded-2xl flex items-center justify-center active:scale-90 transition">
                <i data-lucide="x" class="w-6 h-6"></i>
            </button>
            <h2 id="modal-title" class="text-xl font-black italic uppercase">TOOL</h2>
            <div class="w-12"></div>
        </div>
        <div id="modal-content" class="flex-1 flex flex-col p-6 overflow-hidden"></div>
    </div>

    <script>
        let currentExpr = "0";
        const units = {
            length: { m: 1, km: 0.001, cm: 100, mm: 1000, inch: 39.37, ft: 3.28 },
            weight: { kg: 1, g: 1000, lb: 2.204, oz: 35.27 },
            temp: { c: 'c', f: 'f', k: 'k' }
        };

        window.onload = () => lucide.createIcons();
        window.vibrate = () => { if(window.navigator.vibrate) window.navigator.vibrate(10); };

        window.openTool = (id) => {
            window.vibrate();
            const modal = document.getElementById('tool-modal');
            const content = document.getElementById('modal-content');
            const title = document.getElementById('modal-title');
            modal.className = "tool-modal open";
            
            if (id === 'calc') {
                modal.style.background = "#0f172a";
                title.innerText = "Calculator";
                content.innerHTML = `
                    <div class="flex-1 flex flex-col h-full">
                        <div class="flex-1 flex flex-col justify-end text-right px-4 pb-8">
                            <div id="calc-disp" class="text-6xl font-light tracking-tighter truncate">0</div>
                        </div>
                        <div class="grid grid-cols-4 gap-3 pb-4">
                            <button onclick="window.handleCalc('C')" class="calc-btn bg-white/10 text-rose-400">C</button>
                            <button onclick="window.handleCalc('/')" class="calc-btn bg-white/10 text-cyan-400">÷</button>
                            <button onclick="window.handleCalc('*')" class="calc-btn bg-white/10 text-cyan-400">×</button>
                            <button onclick="window.handleCalc('del')" class="calc-btn bg-white/10 text-rose-400">⌫</button>
                            <button onclick="window.handleCalc('7')" class="calc-btn glass">7</button>
                            <button onclick="window.handleCalc('8')" class="calc-btn glass">8</button>
                            <button onclick="window.handleCalc('9')" class="calc-btn glass">9</button>
                            <button onclick="window.handleCalc('-')" class="calc-btn bg-white/10 text-cyan-400">-</button>
                            <button onclick="window.handleCalc('4')" class="calc-btn glass">4</button>
                            <button onclick="window.handleCalc('5')" class="calc-btn glass">5</button>
                            <button onclick="window.handleCalc('6')" class="calc-btn glass">6</button>
                            <button onclick="window.handleCalc('+')" class="calc-btn bg-white/10 text-cyan-400">+</button>
                            <button onclick="window.handleCalc('1')" class="calc-btn glass">1</button>
                            <button onclick="window.handleCalc('2')" class="calc-btn glass">2</button>
                            <button onclick="window.handleCalc('3')" class="calc-btn glass">3</button>
                            <button onclick="window.handleCalc('=')" class="calc-btn row-span-2 bg-gradient-to-br from-cyan-400 to-blue-600 h-full">=</button>
                            <button onclick="window.handleCalc('0')" class="calc-btn col-span-2 glass">0</button>
                            <button onclick="window.handleCalc('.')" class="calc-btn glass">.</button>
                        </div>
                    </div>
                `;
                currentExpr = "0";
            } else if (id === 'age') {
                modal.style.background = "linear-gradient(135deg, #f59e0b 0%, #ef4444 100%)";
                title.innerText = "Age Calculator";
                content.innerHTML = `
                    <div class="space-y-6">
                        <div class="p-6 glass rounded-[30px] flex flex-col items-center">
                            <label class="text-[10px] font-black uppercase opacity-60 mb-2">Birth Date</label>
                            <input type="date" id="age-input" onchange="window.runAgeCalc()" class="bg-white/10 border-none outline-none p-4 rounded-2xl w-full text-center text-xl font-black text-white">
                        </div>
                        <div class="grid grid-cols-1 gap-4">
                            <div class="p-6 glass rounded-[30px] flex justify-between items-center">
                                <span class="text-4xl font-black" id="res-y">0</span>
                                <span class="text-xs font-bold opacity-70">YEARS</span>
                            </div>
                            <div class="p-6 glass rounded-[30px] flex justify-between items-center">
                                <span class="text-4xl font-black" id="res-m">0</span>
                                <span class="text-xs font-bold opacity-70">MONTHS</span>
                            </div>
                            <div class="p-6 glass rounded-[30px] flex justify-between items-center">
                                <span class="text-4xl font-black" id="res-d">0</span>
                                <span class="text-xs font-bold opacity-70">DAYS</span>
                            </div>
                        </div>
                    </div>
                `;
            } else if (id === 'unit') {
                modal.style.background = "linear-gradient(135deg, #3b82f6 0%, #1e3a8a 100%)";
                title.innerText = "Unit Converter";
                content.innerHTML = `
                    <div class="space-y-8 flex-1">
                        <div class="flex gap-2">
                            <button onclick="window.changeUnitCat('length')" class="flex-1 p-3 glass rounded-xl text-xs font-black">LENGTH</button>
                            <button onclick="window.changeUnitCat('weight')" class="flex-1 p-3 glass rounded-xl text-xs font-black">WEIGHT</button>
                        </div>
                        <div class="space-y-4">
                            <div class="space-y-2">
                                <select id="unit-from" onchange="window.runConvert()"></select>
                                <input type="number" id="unit-val-from" oninput="window.runConvert()" value="1" class="unit-input">
                            </div>
                            <div class="flex justify-center"><i data-lucide="arrow-down-up" class="opacity-50"></i></div>
                            <div class="space-y-2">
                                <select id="unit-to" onchange="window.runConvert()"></select>
                                <input type="number" id="unit-val-to" readonly class="unit-input opacity-70 bg-transparent">
                            </div>
                        </div>
                    </div>
                `;
                window.changeUnitCat('length');
            } else if (id === 'about') {
                modal.style.background = "linear-gradient(135deg, #1e1b4b 0%, #312e81 100%)";
                title.innerText = "App Details";
                content.innerHTML = `
                    <div class="flex-1 flex flex-col items-center justify-center space-y-8">
                        <div class="w-24 h-24 bg-blue-500/20 rounded-[40px] flex items-center justify-center shadow-2xl border border-blue-400/30">
                             <i data-lucide="package" class="w-12 h-12 text-blue-400"></i>
                        </div>
                        <div class="text-center space-y-2">
                            <h2 class="text-3xl font-black tracking-tighter">Smart Tools Pro</h2>
                            <p class="text-xs font-bold opacity-50 uppercase tracking-[0.3em]">Version 3.0.1 Stable</p>
                        </div>
                        <div class="w-full space-y-4">
                            <div class="p-6 glass rounded-[30px] flex flex-col items-center">
                                <span class="text-[10px] font-black opacity-40 uppercase">Designed & Developed By</span>
                                <span class="text-2xl font-black text-blue-400 creator-glow">SHOJIB AHMED</span>
                            </div>
                            <div class="p-6 glass rounded-[30px] text-center">
                                <p class="text-sm font-medium leading-relaxed opacity-70">A premium all-in-one utility suite designed for high-performance mobile hybrid experiences.</p>
                            </div>
                        </div>
                        <div class="pt-4 opacity-30 text-[9px] font-bold">© 2024 OneClick Studio Hybrid Engine</div>
                    </div>
                `;
            } else if (id === 'pass') {
                modal.style.background = "#064e3b";
                title.innerText = "Pass Generator";
                content.innerHTML = `
                    <div class="flex-1 flex flex-col justify-center space-y-12">
                        <div class="p-10 glass rounded-[40px] break-all text-center">
                            <div id="pass-output" class="text-2xl font-mono font-bold tracking-widest">SMART-77</div>
                        </div>
                        <button onclick="window.runPassGen()" class="w-full h-20 bg-emerald-400 text-emerald-950 rounded-[30px] font-black text-xl shadow-xl active:scale-95 transition">GENERATE</button>
                    </div>
                `;
            } else if (id === 'qr') {
                modal.style.background = "#4c1d95";
                title.innerText = "QR Creator";
                content.innerHTML = `
                    <div class="space-y-6">
                        <input type="text" id="qr-val" placeholder="Enter text..." class="w-full p-6 glass rounded-[30px] outline-none text-xl font-bold">
                        <button onclick="window.runQR()" class="w-full h-16 bg-white text-purple-900 rounded-[24px] font-black">GENERATE QR</button>
                        <div id="qr-container" class="hidden p-6 bg-white rounded-[40px] flex justify-center">
                            <img id="qr-img" src="" alt="QR">
                        </div>
                    </div>
                `;
            } else {
                modal.style.background = "#b45309";
                title.innerText = "Quick Notes";
                content.innerHTML = `
                    <div class="flex-1 flex flex-col h-full">
                        <textarea id="note-box" class="flex-1 glass p-8 rounded-[40px] outline-none text-xl font-medium placeholder:text-white/30 mb-6 resize-none" placeholder="Write here..."></textarea>
                        <button onclick="window.saveNote()" class="w-full h-20 bg-white text-amber-900 rounded-[30px] font-black text-xl">SAVE</button>
                    </div>
                `;
                document.getElementById('note-box').value = localStorage.getItem('h_note') || "";
            }
            lucide.createIcons();
        };

        window.closeTool = () => document.getElementById('tool-modal').classList.remove('open');

        window.handleCalc = (v) => {
            window.vibrate();
            const d = document.getElementById('calc-disp');
            if (v === 'C') currentExpr = "0";
            else if (v === 'del') currentExpr = currentExpr.slice(0, -1) || "0";
            else if (v === '=') {
                try { currentExpr = eval(currentExpr.replace('÷','/').replace('×','*')).toString(); }
                catch { currentExpr = "Error"; }
            } else {
                if (currentExpr === "0" || currentExpr === "Error") currentExpr = v;
                else currentExpr += v;
            }
            d.innerText = currentExpr;
        };

        window.runAgeCalc = () => {
            window.vibrate();
            const birthDate = new Date(document.getElementById('age-input').value);
            if (isNaN(birthDate)) return;
            const today = new Date();
            
            let years = today.getFullYear() - birthDate.getFullYear();
            let months = today.getMonth() - birthDate.getMonth();
            let days = today.getDate() - birthDate.getDate();

            if (days < 0) {
                months--;
                days += new Date(today.getFullYear(), today.getMonth(), 0).getDate();
            }
            if (months < 0) {
                years--;
                months += 12;
            }

            document.getElementById('res-y').innerText = years;
            document.getElementById('res-m').innerText = months;
            document.getElementById('res-d').innerText = days;
        };

        let currentCat = 'length';
        window.changeUnitCat = (cat) => {
            currentCat = cat;
            const from = document.getElementById('unit-from');
            const to = document.getElementById('unit-to');
            from.innerHTML = to.innerHTML = "";
            Object.keys(units[cat]).forEach(u => {
                from.innerHTML += `<option value="${u}">${u.toUpperCase()}</option>`;
                to.innerHTML += `<option value="${u}">${u.toUpperCase()}</option>`;
            });
            window.runConvert();
        };

        window.runConvert = () => {
            const val = parseFloat(document.getElementById('unit-val-from').value) || 0;
            const fromU = document.getElementById('unit-from').value;
            const toU = document.getElementById('unit-to').value;
            let res = 0;
            
            if(currentCat === 'temp') {
                if(fromU === 'c' && toU === 'f') res = (val * 9/5) + 32;
                else if(fromU === 'f' && toU === 'c') res = (val - 32) * 5/9;
                else res = val;
            } else {
                const base = val / units[currentCat][fromU];
                res = base * units[currentCat][toU];
            }
            document.getElementById('unit-val-to').value = res.toFixed(2);
        };

        window.runPassGen = () => {
            window.vibrate();
            const chars = "ABCDEFGHJKMNPQRSTUVWXYZ23456789!@#$%^&*";
            let res = "";
            for(let i=0; i<10; i++) res += chars.charAt(Math.floor(Math.random()*chars.length));
            document.getElementById('pass-output').innerText = res;
        };

        window.runQR = () => {
            const val = document.getElementById('qr-val').value;
            if(!val) return;
            document.getElementById('qr-img').src = `https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(val)}`;
            document.getElementById('qr-container').classList.remove('hidden');
        };

        window.saveNote = () => {
            localStorage.setItem('h_note', document.getElementById('note-box').value);
            window.closeTool();
        };
    </script>
</body>
</html>